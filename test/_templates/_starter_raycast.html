<!DOCTYPE html><html><head><title></title></head><body><script type="module">

import Starter, { THREE }       from "../lib/starter.js";
let App;
let Selectables = [];

window.addEventListener( "load", _=>{
    //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    App = new Starter( { webgl2:false, grid:true } );
    App.set_camera( 45, 20, 6 ).render();

    //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    let mesh = Starter.facedCube();
    mesh.scale.set( 0.2, 0.2, 0.2 );
    App.add( mesh );

    Selectables.push( mesh );

    document.addEventListener( "pointerdown", onDocumentMouseDown, false );

});

function onDocumentMouseDown( e ) {
    let x = e.clientX / window.innerWidth * 2 - 1;
    let y = -( e.clientY / window.innerHeight ) * 2 + 1;
    
    let v = new THREE.Vector3( x, y, 0.5 );
    v = v.unproject( App.camera );

    let ray = new THREE.Raycaster( App.camera.position, v.sub( App.camera.position ).normalize() );
    let hit = ray.intersectObjects( Selectables );

    console.log( hit );
}

</script></body></html>